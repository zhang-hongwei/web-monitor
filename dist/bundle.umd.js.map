{"version":3,"file":"bundle.umd.js","sources":["../utils/config.js","../utils/index.js","../index.js"],"sourcesContent":["var Config = {\r\n    DEBUG: false,\r\n    LIB_VERSION: '2.35.0'\r\n};\r\n\r\nexport default Config;\r\n","/* eslint camelcase: \"off\", eqeqeq: \"off\" */\r\nimport Config from \"./config\";\r\n\r\n// since es6 imports are static and we run unit tests from the console, window won't be defined when importing this file\r\nvar win;\r\nif (typeof window === \"undefined\") {\r\n  var loc = {\r\n    hostname: \"\",\r\n  };\r\n  win = {\r\n    navigator: { userAgent: \"\" },\r\n    document: {\r\n      location: loc,\r\n      referrer: \"\",\r\n    },\r\n    screen: { width: 0, height: 0 },\r\n    location: loc,\r\n  };\r\n} else {\r\n  win = window;\r\n}\r\n\r\n/*\r\n * Saved references to long variable names, so that closure compiler can\r\n * minimize file size.\r\n */\r\n\r\nvar ArrayProto = Array.prototype,\r\n  FuncProto = Function.prototype,\r\n  ObjProto = Object.prototype,\r\n  slice = ArrayProto.slice,\r\n  toString = ObjProto.toString,\r\n  hasOwnProperty = ObjProto.hasOwnProperty,\r\n  windowConsole = win.console,\r\n  navigator = win.navigator,\r\n  document = win.document,\r\n  windowOpera = win.opera,\r\n  screen = win.screen,\r\n  userAgent = navigator.userAgent;\r\n\r\nvar nativeBind = FuncProto.bind,\r\n  nativeForEach = ArrayProto.forEach,\r\n  nativeIndexOf = ArrayProto.indexOf,\r\n  nativeIsArray = Array.isArray,\r\n  breaker = {};\r\n\r\nvar _ = {\r\n  trim: function (str) {\r\n    // https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/String/Trim#Polyfill\r\n    return str.replace(/^[\\s\\uFEFF\\xA0]+|[\\s\\uFEFF\\xA0]+$/g, \"\");\r\n  },\r\n};\r\n\r\n// Console override\r\nvar console = {\r\n  /** @type {function(...*)} */\r\n  log: function () {\r\n    if (Config.DEBUG && !_.isUndefined(windowConsole) && windowConsole) {\r\n      try {\r\n        windowConsole.log.apply(windowConsole, arguments);\r\n      } catch (err) {\r\n        _.each(arguments, function (arg) {\r\n          windowConsole.log(arg);\r\n        });\r\n      }\r\n    }\r\n  },\r\n  /** @type {function(...*)} */\r\n  error: function () {\r\n    if (Config.DEBUG && !_.isUndefined(windowConsole) && windowConsole) {\r\n      var args = [\"Mixpanel error:\"].concat(_.toArray(arguments));\r\n      try {\r\n        windowConsole.error.apply(windowConsole, args);\r\n      } catch (err) {\r\n        _.each(args, function (arg) {\r\n          windowConsole.error(arg);\r\n        });\r\n      }\r\n    }\r\n  },\r\n  /** @type {function(...*)} */\r\n  critical: function () {\r\n    if (!_.isUndefined(windowConsole) && windowConsole) {\r\n      var args = [\"Mixpanel error:\"].concat(_.toArray(arguments));\r\n      try {\r\n        windowConsole.error.apply(windowConsole, args);\r\n      } catch (err) {\r\n        _.each(args, function (arg) {\r\n          windowConsole.error(arg);\r\n        });\r\n      }\r\n    }\r\n  },\r\n};\r\n\r\n// UNDERSCORE\r\n// Embed part of the Underscore Library\r\n_.bind = function (func, context) {\r\n  var args, bound;\r\n  if (nativeBind && func.bind === nativeBind) {\r\n    return nativeBind.apply(func, slice.call(arguments, 1));\r\n  }\r\n  if (!_.isFunction(func)) {\r\n    throw new TypeError();\r\n  }\r\n  args = slice.call(arguments, 2);\r\n  bound = function () {\r\n    if (!(this instanceof bound)) {\r\n      return func.apply(context, args.concat(slice.call(arguments)));\r\n    }\r\n    var ctor = {};\r\n    ctor.prototype = func.prototype;\r\n    var self = new ctor();\r\n    ctor.prototype = null;\r\n    var result = func.apply(self, args.concat(slice.call(arguments)));\r\n    if (Object(result) === result) {\r\n      return result;\r\n    }\r\n    return self;\r\n  };\r\n  return bound;\r\n};\r\n\r\n_.bind_instance_methods = function (obj) {\r\n  for (var func in obj) {\r\n    if (typeof obj[func] === \"function\") {\r\n      obj[func] = _.bind(obj[func], obj);\r\n    }\r\n  }\r\n};\r\n\r\n/**\r\n * @param {*=} obj\r\n * @param {function(...*)=} iterator\r\n * @param {Object=} context\r\n */\r\n_.each = function (obj, iterator, context) {\r\n  if (obj === null || obj === undefined) {\r\n    return;\r\n  }\r\n  if (nativeForEach && obj.forEach === nativeForEach) {\r\n    obj.forEach(iterator, context);\r\n  } else if (obj.length === +obj.length) {\r\n    for (var i = 0, l = obj.length; i < l; i++) {\r\n      if (i in obj && iterator.call(context, obj[i], i, obj) === breaker) {\r\n        return;\r\n      }\r\n    }\r\n  } else {\r\n    for (var key in obj) {\r\n      if (hasOwnProperty.call(obj, key)) {\r\n        if (iterator.call(context, obj[key], key, obj) === breaker) {\r\n          return;\r\n        }\r\n      }\r\n    }\r\n  }\r\n};\r\n\r\n_.escapeHTML = function (s) {\r\n  var escaped = s;\r\n  if (escaped && _.isString(escaped)) {\r\n    escaped = escaped\r\n      .replace(/&/g, \"&amp;\")\r\n      .replace(/</g, \"&lt;\")\r\n      .replace(/>/g, \"&gt;\")\r\n      .replace(/\"/g, \"&quot;\")\r\n      .replace(/'/g, \"&#039;\");\r\n  }\r\n  return escaped;\r\n};\r\n\r\n_.extend = function (obj) {\r\n  _.each(slice.call(arguments, 1), function (source) {\r\n    for (var prop in source) {\r\n      if (source[prop] !== void 0) {\r\n        obj[prop] = source[prop];\r\n      }\r\n    }\r\n  });\r\n  return obj;\r\n};\r\n\r\n_.isArray =\r\n  nativeIsArray ||\r\n  function (obj) {\r\n    return toString.call(obj) === \"[object Array]\";\r\n  };\r\n\r\n// from a comment on http://dbj.org/dbj/?p=286\r\n// fails on only one very rare and deliberate custom object:\r\n// var bomb = { toString : undefined, valueOf: function(o) { return \"function BOMBA!\"; }};\r\n_.isFunction = function (f) {\r\n  try {\r\n    return /^\\s*\\bfunction\\b/.test(f);\r\n  } catch (x) {\r\n    return false;\r\n  }\r\n};\r\n\r\n_.isArguments = function (obj) {\r\n  return !!(obj && hasOwnProperty.call(obj, \"callee\"));\r\n};\r\n\r\n_.toArray = function (iterable) {\r\n  if (!iterable) {\r\n    return [];\r\n  }\r\n  if (iterable.toArray) {\r\n    return iterable.toArray();\r\n  }\r\n  if (_.isArray(iterable)) {\r\n    return slice.call(iterable);\r\n  }\r\n  if (_.isArguments(iterable)) {\r\n    return slice.call(iterable);\r\n  }\r\n  return _.values(iterable);\r\n};\r\n\r\n_.keys = function (obj) {\r\n  var results = [];\r\n  if (obj === null) {\r\n    return results;\r\n  }\r\n  _.each(obj, function (value, key) {\r\n    results[results.length] = key;\r\n  });\r\n  return results;\r\n};\r\n\r\n_.values = function (obj) {\r\n  var results = [];\r\n  if (obj === null) {\r\n    return results;\r\n  }\r\n  _.each(obj, function (value) {\r\n    results[results.length] = value;\r\n  });\r\n  return results;\r\n};\r\n\r\n_.identity = function (value) {\r\n  return value;\r\n};\r\n\r\n_.include = function (obj, target) {\r\n  var found = false;\r\n  if (obj === null) {\r\n    return found;\r\n  }\r\n  if (nativeIndexOf && obj.indexOf === nativeIndexOf) {\r\n    return obj.indexOf(target) != -1;\r\n  }\r\n  _.each(obj, function (value) {\r\n    if (found || (found = value === target)) {\r\n      return breaker;\r\n    }\r\n  });\r\n  return found;\r\n};\r\n\r\n_.includes = function (str, needle) {\r\n  return str.indexOf(needle) !== -1;\r\n};\r\n\r\n// Underscore Addons\r\n_.inherit = function (subclass, superclass) {\r\n  subclass.prototype = new superclass();\r\n  subclass.prototype.constructor = subclass;\r\n  subclass.superclass = superclass.prototype;\r\n  return subclass;\r\n};\r\n\r\n_.isObject = function (obj) {\r\n  return obj === Object(obj) && !_.isArray(obj);\r\n};\r\n\r\n_.isEmptyObject = function (obj) {\r\n  if (_.isObject(obj)) {\r\n    for (var key in obj) {\r\n      if (hasOwnProperty.call(obj, key)) {\r\n        return false;\r\n      }\r\n    }\r\n    return true;\r\n  }\r\n  return false;\r\n};\r\n\r\n_.isUndefined = function (obj) {\r\n  return obj === void 0;\r\n};\r\n\r\n_.isString = function (obj) {\r\n  return toString.call(obj) == \"[object String]\";\r\n};\r\n\r\n_.isDate = function (obj) {\r\n  return toString.call(obj) == \"[object Date]\";\r\n};\r\n\r\n_.isNumber = function (obj) {\r\n  return toString.call(obj) == \"[object Number]\";\r\n};\r\n\r\n_.isElement = function (obj) {\r\n  return !!(obj && obj.nodeType === 1);\r\n};\r\n\r\n_.encodeDates = function (obj) {\r\n  _.each(obj, function (v, k) {\r\n    if (_.isDate(v)) {\r\n      obj[k] = _.formatDate(v);\r\n    } else if (_.isObject(v)) {\r\n      obj[k] = _.encodeDates(v); // recurse\r\n    }\r\n  });\r\n  return obj;\r\n};\r\n\r\n_.timestamp = function () {\r\n  Date.now =\r\n    Date.now ||\r\n    function () {\r\n      return +new Date();\r\n    };\r\n  return Date.now();\r\n};\r\n\r\n_.formatDate = function (d) {\r\n  // YYYY-MM-DDTHH:MM:SS in UTC\r\n  function pad(n) {\r\n    return n < 10 ? \"0\" + n : n;\r\n  }\r\n  return (\r\n    d.getUTCFullYear() +\r\n    \"-\" +\r\n    pad(d.getUTCMonth() + 1) +\r\n    \"-\" +\r\n    pad(d.getUTCDate()) +\r\n    \"T\" +\r\n    pad(d.getUTCHours()) +\r\n    \":\" +\r\n    pad(d.getUTCMinutes()) +\r\n    \":\" +\r\n    pad(d.getUTCSeconds())\r\n  );\r\n};\r\n\r\n_.safewrap = function (f) {\r\n  return function () {\r\n    try {\r\n      return f.apply(this, arguments);\r\n    } catch (e) {\r\n      console.critical(\r\n        \"Implementation error. Please turn on debug and contact support@mixpanel.com.\"\r\n      );\r\n      if (Config.DEBUG) {\r\n        console.critical(e);\r\n      }\r\n    }\r\n  };\r\n};\r\n\r\n_.safewrap_class = function (klass, functions) {\r\n  for (var i = 0; i < functions.length; i++) {\r\n    klass.prototype[functions[i]] = _.safewrap(klass.prototype[functions[i]]);\r\n  }\r\n};\r\n\r\n_.safewrap_instance_methods = function (obj) {\r\n  for (var func in obj) {\r\n    if (typeof obj[func] === \"function\") {\r\n      obj[func] = _.safewrap(obj[func]);\r\n    }\r\n  }\r\n};\r\n\r\n_.strip_empty_properties = function (p) {\r\n  var ret = {};\r\n  _.each(p, function (v, k) {\r\n    if (_.isString(v) && v.length > 0) {\r\n      ret[k] = v;\r\n    }\r\n  });\r\n  return ret;\r\n};\r\n\r\n/*\r\n * this function returns a copy of object after truncating it.  If\r\n * passed an Array or Object it will iterate through obj and\r\n * truncate all the values recursively.\r\n */\r\n_.truncate = function (obj, length) {\r\n  var ret;\r\n\r\n  if (typeof obj === \"string\") {\r\n    ret = obj.slice(0, length);\r\n  } else if (_.isArray(obj)) {\r\n    ret = [];\r\n    _.each(obj, function (val) {\r\n      ret.push(_.truncate(val, length));\r\n    });\r\n  } else if (_.isObject(obj)) {\r\n    ret = {};\r\n    _.each(obj, function (val, key) {\r\n      ret[key] = _.truncate(val, length);\r\n    });\r\n  } else {\r\n    ret = obj;\r\n  }\r\n\r\n  return ret;\r\n};\r\n\r\n_.JSONEncode = (function () {\r\n  return function (mixed_val) {\r\n    var value = mixed_val;\r\n    var quote = function (string) {\r\n      var escapable = /[\\\\\"\\x00-\\x1f\\x7f-\\x9f\\u00ad\\u0600-\\u0604\\u070f\\u17b4\\u17b5\\u200c-\\u200f\\u2028-\\u202f\\u2060-\\u206f\\ufeff\\ufff0-\\uffff]/g; // eslint-disable-line no-control-regex\r\n      var meta = {\r\n        // table of character substitutions\r\n        \"\\b\": \"\\\\b\",\r\n        \"\\t\": \"\\\\t\",\r\n        \"\\n\": \"\\\\n\",\r\n        \"\\f\": \"\\\\f\",\r\n        \"\\r\": \"\\\\r\",\r\n        '\"': '\\\\\"',\r\n        \"\\\\\": \"\\\\\\\\\",\r\n      };\r\n\r\n      escapable.lastIndex = 0;\r\n      return escapable.test(string)\r\n        ? '\"' +\r\n            string.replace(escapable, function (a) {\r\n              var c = meta[a];\r\n              return typeof c === \"string\"\r\n                ? c\r\n                : \"\\\\u\" + (\"0000\" + a.charCodeAt(0).toString(16)).slice(-4);\r\n            }) +\r\n            '\"'\r\n        : '\"' + string + '\"';\r\n    };\r\n\r\n    var str = function (key, holder) {\r\n      var gap = \"\";\r\n      var indent = \"    \";\r\n      var i = 0; // The loop counter.\r\n      var k = \"\"; // The member key.\r\n      var v = \"\"; // The member value.\r\n      var length = 0;\r\n      var mind = gap;\r\n      var partial = [];\r\n      var value = holder[key];\r\n\r\n      // If the value has a toJSON method, call it to obtain a replacement value.\r\n      if (\r\n        value &&\r\n        typeof value === \"object\" &&\r\n        typeof value.toJSON === \"function\"\r\n      ) {\r\n        value = value.toJSON(key);\r\n      }\r\n\r\n      // What happens next depends on the value's type.\r\n      switch (typeof value) {\r\n        case \"string\":\r\n          return quote(value);\r\n\r\n        case \"number\":\r\n          // JSON numbers must be finite. Encode non-finite numbers as null.\r\n          return isFinite(value) ? String(value) : \"null\";\r\n\r\n        case \"boolean\":\r\n        case \"null\":\r\n          // If the value is a boolean or null, convert it to a string. Note:\r\n          // typeof null does not produce 'null'. The case is included here in\r\n          // the remote chance that this gets fixed someday.\r\n\r\n          return String(value);\r\n\r\n        case \"object\":\r\n          // If the type is 'object', we might be dealing with an object or an array or\r\n          // null.\r\n          // Due to a specification blunder in ECMAScript, typeof null is 'object',\r\n          // so watch out for that case.\r\n          if (!value) {\r\n            return \"null\";\r\n          }\r\n\r\n          // Make an array to hold the partial results of stringifying this object value.\r\n          gap += indent;\r\n          partial = [];\r\n\r\n          // Is the value an array?\r\n          if (toString.apply(value) === \"[object Array]\") {\r\n            // The value is an array. Stringify every element. Use null as a placeholder\r\n            // for non-JSON values.\r\n\r\n            length = value.length;\r\n            for (i = 0; i < length; i += 1) {\r\n              partial[i] = str(i, value) || \"null\";\r\n            }\r\n\r\n            // Join all of the elements together, separated with commas, and wrap them in\r\n            // brackets.\r\n            v =\r\n              partial.length === 0\r\n                ? \"[]\"\r\n                : gap\r\n                ? \"[\\n\" + gap + partial.join(\",\\n\" + gap) + \"\\n\" + mind + \"]\"\r\n                : \"[\" + partial.join(\",\") + \"]\";\r\n            gap = mind;\r\n            return v;\r\n          }\r\n\r\n          // Iterate through all of the keys in the object.\r\n          for (k in value) {\r\n            if (hasOwnProperty.call(value, k)) {\r\n              v = str(k, value);\r\n              if (v) {\r\n                partial.push(quote(k) + (gap ? \": \" : \":\") + v);\r\n              }\r\n            }\r\n          }\r\n\r\n          // Join all of the member texts together, separated with commas,\r\n          // and wrap them in braces.\r\n          v =\r\n            partial.length === 0\r\n              ? \"{}\"\r\n              : gap\r\n              ? \"{\" + partial.join(\",\") + \"\" + mind + \"}\"\r\n              : \"{\" + partial.join(\",\") + \"}\";\r\n          gap = mind;\r\n          return v;\r\n      }\r\n    };\r\n\r\n    // Make a fake root object containing our value under the key of ''.\r\n    // Return the result of stringifying the value.\r\n    return str(\"\", {\r\n      \"\": value,\r\n    });\r\n  };\r\n})();\r\n\r\n/**\r\n * From https://github.com/douglascrockford/JSON-js/blob/master/json_parse.js\r\n * Slightly modified to throw a real Error rather than a POJO\r\n */\r\n_.JSONDecode = (function () {\r\n  var at, // The index of the current character\r\n    ch, // The current character\r\n    escapee = {\r\n      '\"': '\"',\r\n      \"\\\\\": \"\\\\\",\r\n      \"/\": \"/\",\r\n      b: \"\\b\",\r\n      f: \"\\f\",\r\n      n: \"\\n\",\r\n      r: \"\\r\",\r\n      t: \"\\t\",\r\n    },\r\n    text,\r\n    error = function (m) {\r\n      var e = new SyntaxError(m);\r\n      e.at = at;\r\n      e.text = text;\r\n      throw e;\r\n    },\r\n    next = function (c) {\r\n      // If a c parameter is provided, verify that it matches the current character.\r\n      if (c && c !== ch) {\r\n        error(\"Expected '\" + c + \"' instead of '\" + ch + \"'\");\r\n      }\r\n      // Get the next character. When there are no more characters,\r\n      // return the empty string.\r\n      ch = text.charAt(at);\r\n      at += 1;\r\n      return ch;\r\n    },\r\n    number = function () {\r\n      // Parse a number value.\r\n      var number,\r\n        string = \"\";\r\n\r\n      if (ch === \"-\") {\r\n        string = \"-\";\r\n        next(\"-\");\r\n      }\r\n      while (ch >= \"0\" && ch <= \"9\") {\r\n        string += ch;\r\n        next();\r\n      }\r\n      if (ch === \".\") {\r\n        string += \".\";\r\n        while (next() && ch >= \"0\" && ch <= \"9\") {\r\n          string += ch;\r\n        }\r\n      }\r\n      if (ch === \"e\" || ch === \"E\") {\r\n        string += ch;\r\n        next();\r\n        if (ch === \"-\" || ch === \"+\") {\r\n          string += ch;\r\n          next();\r\n        }\r\n        while (ch >= \"0\" && ch <= \"9\") {\r\n          string += ch;\r\n          next();\r\n        }\r\n      }\r\n      number = +string;\r\n      if (!isFinite(number)) {\r\n        error(\"Bad number\");\r\n      } else {\r\n        return number;\r\n      }\r\n    },\r\n    string = function () {\r\n      // Parse a string value.\r\n      var hex,\r\n        i,\r\n        string = \"\",\r\n        uffff;\r\n      // When parsing for string values, we must look for \" and \\ characters.\r\n      if (ch === '\"') {\r\n        while (next()) {\r\n          if (ch === '\"') {\r\n            next();\r\n            return string;\r\n          }\r\n          if (ch === \"\\\\\") {\r\n            next();\r\n            if (ch === \"u\") {\r\n              uffff = 0;\r\n              for (i = 0; i < 4; i += 1) {\r\n                hex = parseInt(next(), 16);\r\n                if (!isFinite(hex)) {\r\n                  break;\r\n                }\r\n                uffff = uffff * 16 + hex;\r\n              }\r\n              string += String.fromCharCode(uffff);\r\n            } else if (typeof escapee[ch] === \"string\") {\r\n              string += escapee[ch];\r\n            } else {\r\n              break;\r\n            }\r\n          } else {\r\n            string += ch;\r\n          }\r\n        }\r\n      }\r\n      error(\"Bad string\");\r\n    },\r\n    white = function () {\r\n      // Skip whitespace.\r\n      while (ch && ch <= \" \") {\r\n        next();\r\n      }\r\n    },\r\n    word = function () {\r\n      // true, false, or null.\r\n      switch (ch) {\r\n        case \"t\":\r\n          next(\"t\");\r\n          next(\"r\");\r\n          next(\"u\");\r\n          next(\"e\");\r\n          return true;\r\n        case \"f\":\r\n          next(\"f\");\r\n          next(\"a\");\r\n          next(\"l\");\r\n          next(\"s\");\r\n          next(\"e\");\r\n          return false;\r\n        case \"n\":\r\n          next(\"n\");\r\n          next(\"u\");\r\n          next(\"l\");\r\n          next(\"l\");\r\n          return null;\r\n      }\r\n      error('Unexpected \"' + ch + '\"');\r\n    },\r\n    value, // Placeholder for the value function.\r\n    array = function () {\r\n      // Parse an array value.\r\n      var array = [];\r\n\r\n      if (ch === \"[\") {\r\n        next(\"[\");\r\n        white();\r\n        if (ch === \"]\") {\r\n          next(\"]\");\r\n          return array; // empty array\r\n        }\r\n        while (ch) {\r\n          array.push(value());\r\n          white();\r\n          if (ch === \"]\") {\r\n            next(\"]\");\r\n            return array;\r\n          }\r\n          next(\",\");\r\n          white();\r\n        }\r\n      }\r\n      error(\"Bad array\");\r\n    },\r\n    object = function () {\r\n      // Parse an object value.\r\n      var key,\r\n        object = {};\r\n\r\n      if (ch === \"{\") {\r\n        next(\"{\");\r\n        white();\r\n        if (ch === \"}\") {\r\n          next(\"}\");\r\n          return object; // empty object\r\n        }\r\n        while (ch) {\r\n          key = string();\r\n          white();\r\n          next(\":\");\r\n          if (Object.hasOwnProperty.call(object, key)) {\r\n            error('Duplicate key \"' + key + '\"');\r\n          }\r\n          object[key] = value();\r\n          white();\r\n          if (ch === \"}\") {\r\n            next(\"}\");\r\n            return object;\r\n          }\r\n          next(\",\");\r\n          white();\r\n        }\r\n      }\r\n      error(\"Bad object\");\r\n    };\r\n\r\n  value = function () {\r\n    // Parse a JSON value. It could be an object, an array, a string,\r\n    // a number, or a word.\r\n    white();\r\n    switch (ch) {\r\n      case \"{\":\r\n        return object();\r\n      case \"[\":\r\n        return array();\r\n      case '\"':\r\n        return string();\r\n      case \"-\":\r\n        return number();\r\n      default:\r\n        return ch >= \"0\" && ch <= \"9\" ? number() : word();\r\n    }\r\n  };\r\n\r\n  // Return the json_parse function. It will have access to all of the\r\n  // above functions and variables.\r\n  return function (source) {\r\n    var result;\r\n\r\n    text = source;\r\n    at = 0;\r\n    ch = \" \";\r\n    result = value();\r\n    white();\r\n    if (ch) {\r\n      error(\"Syntax error\");\r\n    }\r\n\r\n    return result;\r\n  };\r\n})();\r\n\r\n_.base64Encode = function (data) {\r\n  var b64 = \"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=\";\r\n  var o1,\r\n    o2,\r\n    o3,\r\n    h1,\r\n    h2,\r\n    h3,\r\n    h4,\r\n    bits,\r\n    i = 0,\r\n    ac = 0,\r\n    enc = \"\",\r\n    tmp_arr = [];\r\n\r\n  if (!data) {\r\n    return data;\r\n  }\r\n\r\n  data = _.utf8Encode(data);\r\n\r\n  do {\r\n    // pack three octets into four hexets\r\n    o1 = data.charCodeAt(i++);\r\n    o2 = data.charCodeAt(i++);\r\n    o3 = data.charCodeAt(i++);\r\n\r\n    bits = (o1 << 16) | (o2 << 8) | o3;\r\n\r\n    h1 = (bits >> 18) & 0x3f;\r\n    h2 = (bits >> 12) & 0x3f;\r\n    h3 = (bits >> 6) & 0x3f;\r\n    h4 = bits & 0x3f;\r\n\r\n    // use hexets to index into b64, and append result to encoded string\r\n    tmp_arr[ac++] =\r\n      b64.charAt(h1) + b64.charAt(h2) + b64.charAt(h3) + b64.charAt(h4);\r\n  } while (i < data.length);\r\n\r\n  enc = tmp_arr.join(\"\");\r\n\r\n  switch (data.length % 3) {\r\n    case 1:\r\n      enc = enc.slice(0, -2) + \"==\";\r\n      break;\r\n    case 2:\r\n      enc = enc.slice(0, -1) + \"=\";\r\n      break;\r\n  }\r\n\r\n  return enc;\r\n};\r\n\r\n_.utf8Encode = function (string) {\r\n  string = (string + \"\").replace(/\\r\\n/g, \"\\n\").replace(/\\r/g, \"\\n\");\r\n\r\n  var utftext = \"\",\r\n    start,\r\n    end;\r\n  var stringl = 0,\r\n    n;\r\n\r\n  start = end = 0;\r\n  stringl = string.length;\r\n\r\n  for (n = 0; n < stringl; n++) {\r\n    var c1 = string.charCodeAt(n);\r\n    var enc = null;\r\n\r\n    if (c1 < 128) {\r\n      end++;\r\n    } else if (c1 > 127 && c1 < 2048) {\r\n      enc = String.fromCharCode((c1 >> 6) | 192, (c1 & 63) | 128);\r\n    } else {\r\n      enc = String.fromCharCode(\r\n        (c1 >> 12) | 224,\r\n        ((c1 >> 6) & 63) | 128,\r\n        (c1 & 63) | 128\r\n      );\r\n    }\r\n    if (enc !== null) {\r\n      if (end > start) {\r\n        utftext += string.substring(start, end);\r\n      }\r\n      utftext += enc;\r\n      start = end = n + 1;\r\n    }\r\n  }\r\n\r\n  if (end > start) {\r\n    utftext += string.substring(start, string.length);\r\n  }\r\n\r\n  return utftext;\r\n};\r\n\r\n_.UUID = (function () {\r\n  // Time/ticks information\r\n  // 1*new Date() is a cross browser version of Date.now()\r\n  var T = function () {\r\n    var d = 1 * new Date(),\r\n      i = 0;\r\n\r\n    // this while loop figures how many browser ticks go by\r\n    // before 1*new Date() returns a new number, ie the amount\r\n    // of ticks that go by per millisecond\r\n    while (d == 1 * new Date()) {\r\n      i++;\r\n    }\r\n\r\n    return d.toString(16) + i.toString(16);\r\n  };\r\n\r\n  // Math.Random entropy\r\n  var R = function () {\r\n    return Math.random().toString(16).replace(\".\", \"\");\r\n  };\r\n\r\n  // User agent entropy\r\n  // This function takes the user agent string, and then xors\r\n  // together each sequence of 8 bytes.  This produces a final\r\n  // sequence of 8 bytes which it returns as hex.\r\n  var UA = function () {\r\n    var ua = userAgent,\r\n      i,\r\n      ch,\r\n      buffer = [],\r\n      ret = 0;\r\n\r\n    function xor(result, byte_array) {\r\n      var j,\r\n        tmp = 0;\r\n      for (j = 0; j < byte_array.length; j++) {\r\n        tmp |= buffer[j] << (j * 8);\r\n      }\r\n      return result ^ tmp;\r\n    }\r\n\r\n    for (i = 0; i < ua.length; i++) {\r\n      ch = ua.charCodeAt(i);\r\n      buffer.unshift(ch & 0xff);\r\n      if (buffer.length >= 4) {\r\n        ret = xor(ret, buffer);\r\n        buffer = [];\r\n      }\r\n    }\r\n\r\n    if (buffer.length > 0) {\r\n      ret = xor(ret, buffer);\r\n    }\r\n\r\n    return ret.toString(16);\r\n  };\r\n\r\n  return function () {\r\n    var se = (screen.height * screen.width).toString(16);\r\n    return T() + \"-\" + R() + \"-\" + UA() + \"-\" + se + \"-\" + T();\r\n  };\r\n})();\r\n\r\n// _.isBlockedUA()\r\n// This is to block various web spiders from executing our JS and\r\n// sending false tracking data\r\n_.isBlockedUA = function (ua) {\r\n  if (\r\n    /(google web preview|baiduspider|yandexbot|bingbot|googlebot|yahoo! slurp)/i.test(\r\n      ua\r\n    )\r\n  ) {\r\n    return true;\r\n  }\r\n  return false;\r\n};\r\n\r\n/**\r\n * @param {Object=} formdata\r\n * @param {string=} arg_separator\r\n */\r\n_.HTTPBuildQuery = function (formdata, arg_separator) {\r\n  var use_val,\r\n    use_key,\r\n    tmp_arr = [];\r\n\r\n  if (_.isUndefined(arg_separator)) {\r\n    arg_separator = \"&\";\r\n  }\r\n\r\n  _.each(formdata, function (val, key) {\r\n    use_val = encodeURIComponent(val.toString());\r\n    use_key = encodeURIComponent(key);\r\n    tmp_arr[tmp_arr.length] = use_key + \"=\" + use_val;\r\n  });\r\n\r\n  return tmp_arr.join(arg_separator);\r\n};\r\n\r\n_.getQueryParam = function (url, param) {\r\n  // Expects a raw URL\r\n\r\n  param = param.replace(/[[]/, \"\\\\[\").replace(/[\\]]/, \"\\\\]\");\r\n  var regexS = \"[\\\\?&]\" + param + \"=([^&#]*)\",\r\n    regex = new RegExp(regexS),\r\n    results = regex.exec(url);\r\n  if (\r\n    results === null ||\r\n    (results && typeof results[1] !== \"string\" && results[1].length)\r\n  ) {\r\n    return \"\";\r\n  } else {\r\n    var result = results[1];\r\n    try {\r\n      result = decodeURIComponent(result);\r\n    } catch (err) {\r\n      console.error(\"Skipping decoding for malformed query param: \" + result);\r\n    }\r\n    return result.replace(/\\+/g, \" \");\r\n  }\r\n};\r\n\r\n_.getHashParam = function (hash, param) {\r\n  var matches = hash.match(new RegExp(param + \"=([^&]*)\"));\r\n  return matches ? matches[1] : null;\r\n};\r\n\r\n// _.cookie\r\n// Methods partially borrowed from quirksmode.org/js/cookies.html\r\n_.cookie = {\r\n  get: function (name) {\r\n    var nameEQ = name + \"=\";\r\n    var ca = document.cookie.split(\";\");\r\n    for (var i = 0; i < ca.length; i++) {\r\n      var c = ca[i];\r\n      while (c.charAt(0) == \" \") {\r\n        c = c.substring(1, c.length);\r\n      }\r\n      if (c.indexOf(nameEQ) === 0) {\r\n        return decodeURIComponent(c.substring(nameEQ.length, c.length));\r\n      }\r\n    }\r\n    return null;\r\n  },\r\n\r\n  parse: function (name) {\r\n    var cookie;\r\n    try {\r\n      cookie = _.JSONDecode(_.cookie.get(name)) || {};\r\n    } catch (err) {\r\n      // noop\r\n    }\r\n    return cookie;\r\n  },\r\n\r\n  set_seconds: function (\r\n    name,\r\n    value,\r\n    seconds,\r\n    is_cross_subdomain,\r\n    is_secure,\r\n    is_cross_site,\r\n    domain_override\r\n  ) {\r\n    var cdomain = \"\",\r\n      expires = \"\",\r\n      secure = \"\";\r\n\r\n    if (domain_override) {\r\n      cdomain = \"; domain=\" + domain_override;\r\n    } else if (is_cross_subdomain) {\r\n      var domain = extract_domain(document.location.hostname);\r\n      cdomain = domain ? \"; domain=.\" + domain : \"\";\r\n    }\r\n\r\n    if (seconds) {\r\n      var date = new Date();\r\n      date.setTime(date.getTime() + seconds * 1000);\r\n      expires = \"; expires=\" + date.toGMTString();\r\n    }\r\n\r\n    if (is_cross_site) {\r\n      is_secure = true;\r\n      secure = \"; SameSite=None\";\r\n    }\r\n    if (is_secure) {\r\n      secure += \"; secure\";\r\n    }\r\n\r\n    document.cookie =\r\n      name +\r\n      \"=\" +\r\n      encodeURIComponent(value) +\r\n      expires +\r\n      \"; path=/\" +\r\n      cdomain +\r\n      secure;\r\n  },\r\n\r\n  set: function (\r\n    name,\r\n    value,\r\n    days,\r\n    is_cross_subdomain,\r\n    is_secure,\r\n    is_cross_site,\r\n    domain_override\r\n  ) {\r\n    var cdomain = \"\",\r\n      expires = \"\",\r\n      secure = \"\";\r\n\r\n    if (domain_override) {\r\n      cdomain = \"; domain=\" + domain_override;\r\n    } else if (is_cross_subdomain) {\r\n      var domain = extract_domain(document.location.hostname);\r\n      cdomain = domain ? \"; domain=.\" + domain : \"\";\r\n    }\r\n\r\n    if (days) {\r\n      var date = new Date();\r\n      date.setTime(date.getTime() + days * 24 * 60 * 60 * 1000);\r\n      expires = \"; expires=\" + date.toGMTString();\r\n    }\r\n\r\n    if (is_cross_site) {\r\n      is_secure = true;\r\n      secure = \"; SameSite=None\";\r\n    }\r\n    if (is_secure) {\r\n      secure += \"; secure\";\r\n    }\r\n\r\n    var new_cookie_val =\r\n      name +\r\n      \"=\" +\r\n      encodeURIComponent(value) +\r\n      expires +\r\n      \"; path=/\" +\r\n      cdomain +\r\n      secure;\r\n    document.cookie = new_cookie_val;\r\n    return new_cookie_val;\r\n  },\r\n\r\n  remove: function (name, is_cross_subdomain, domain_override) {\r\n    _.cookie.set(\r\n      name,\r\n      \"\",\r\n      -1,\r\n      is_cross_subdomain,\r\n      false,\r\n      false,\r\n      domain_override\r\n    );\r\n  },\r\n};\r\n\r\n// _.localStorage\r\nvar _localStorage_supported = null;\r\n_.localStorage = {\r\n  is_supported: function () {\r\n    if (_localStorage_supported !== null) {\r\n      return _localStorage_supported;\r\n    }\r\n\r\n    var supported = true;\r\n    try {\r\n      var key = \"__mplssupport__\",\r\n        val = \"xyz\";\r\n      _.localStorage.set(key, val);\r\n      if (_.localStorage.get(key) !== val) {\r\n        supported = false;\r\n      }\r\n      _.localStorage.remove(key);\r\n    } catch (err) {\r\n      supported = false;\r\n    }\r\n    if (!supported) {\r\n      console.error(\"localStorage unsupported; falling back to cookie store\");\r\n    }\r\n\r\n    _localStorage_supported = supported;\r\n    return supported;\r\n  },\r\n\r\n  error: function (msg) {\r\n    console.error(\"localStorage error: \" + msg);\r\n  },\r\n\r\n  get: function (name) {\r\n    try {\r\n      return window.localStorage.getItem(name);\r\n    } catch (err) {\r\n      _.localStorage.error(err);\r\n    }\r\n    return null;\r\n  },\r\n\r\n  parse: function (name) {\r\n    try {\r\n      return _.JSONDecode(_.localStorage.get(name)) || {};\r\n    } catch (err) {\r\n      // noop\r\n    }\r\n    return null;\r\n  },\r\n\r\n  set: function (name, value) {\r\n    try {\r\n      window.localStorage.setItem(name, value);\r\n    } catch (err) {\r\n      _.localStorage.error(err);\r\n    }\r\n  },\r\n\r\n  remove: function (name) {\r\n    try {\r\n      window.localStorage.removeItem(name);\r\n    } catch (err) {\r\n      _.localStorage.error(err);\r\n    }\r\n  },\r\n};\r\n\r\n_.register_event = (function () {\r\n  // written by Dean Edwards, 2005\r\n  // with input from Tino Zijdel - crisp@xs4all.nl\r\n  // with input from Carl Sverre - mail@carlsverre.com\r\n  // with input from Mixpanel\r\n  // http://dean.edwards.name/weblog/2005/10/add-event/\r\n  // https://gist.github.com/1930440\r\n\r\n  /**\r\n   * @param {Object} element\r\n   * @param {string} type\r\n   * @param {function(...*)} handler\r\n   * @param {boolean=} oldSchool\r\n   * @param {boolean=} useCapture\r\n   */\r\n  var register_event = function (\r\n    element,\r\n    type,\r\n    handler,\r\n    oldSchool,\r\n    useCapture\r\n  ) {\r\n    if (!element) {\r\n      console.error(\"No valid element provided to register_event\");\r\n      return;\r\n    }\r\n\r\n    if (element.addEventListener && !oldSchool) {\r\n      element.addEventListener(type, handler, !!useCapture);\r\n    } else {\r\n      var ontype = \"on\" + type;\r\n      var old_handler = element[ontype]; // can be undefined\r\n      element[ontype] = makeHandler(element, handler, old_handler);\r\n    }\r\n  };\r\n\r\n  function makeHandler(element, new_handler, old_handlers) {\r\n    var handler = function (event) {\r\n      event = event || fixEvent(window.event);\r\n\r\n      // this basically happens in firefox whenever another script\r\n      // overwrites the onload callback and doesn't pass the event\r\n      // object to previously defined callbacks.  All the browsers\r\n      // that don't define window.event implement addEventListener\r\n      // so the dom_loaded handler will still be fired as usual.\r\n      if (!event) {\r\n        return undefined;\r\n      }\r\n\r\n      var ret = true;\r\n      var old_result, new_result;\r\n\r\n      if (_.isFunction(old_handlers)) {\r\n        old_result = old_handlers(event);\r\n      }\r\n      new_result = new_handler.call(element, event);\r\n\r\n      if (false === old_result || false === new_result) {\r\n        ret = false;\r\n      }\r\n\r\n      return ret;\r\n    };\r\n\r\n    return handler;\r\n  }\r\n\r\n  function fixEvent(event) {\r\n    if (event) {\r\n      event.preventDefault = fixEvent.preventDefault;\r\n      event.stopPropagation = fixEvent.stopPropagation;\r\n    }\r\n    return event;\r\n  }\r\n  fixEvent.preventDefault = function () {\r\n    this.returnValue = false;\r\n  };\r\n  fixEvent.stopPropagation = function () {\r\n    this.cancelBubble = true;\r\n  };\r\n\r\n  return register_event;\r\n})();\r\n\r\nvar TOKEN_MATCH_REGEX = new RegExp(\r\n  '^(\\\\w*)\\\\[(\\\\w+)([=~\\\\|\\\\^\\\\$\\\\*]?)=?\"?([^\\\\]\"]*)\"?\\\\]$'\r\n);\r\n\r\n_.dom_query = (function () {\r\n  /* document.getElementsBySelector(selector)\r\n    - returns an array of element objects from the current document\r\n    matching the CSS selector. Selectors can contain element names,\r\n    class names and ids and can be nested. For example:\r\n\r\n    elements = document.getElementsBySelector('div#main p a.external')\r\n\r\n    Will return an array of all 'a' elements with 'external' in their\r\n    class attribute that are contained inside 'p' elements that are\r\n    contained inside the 'div' element which has id=\"main\"\r\n\r\n    New in version 0.4: Support for CSS2 and CSS3 attribute selectors:\r\n    See http://www.w3.org/TR/css3-selectors/#attribute-selectors\r\n\r\n    Version 0.4 - Simon Willison, March 25th 2003\r\n    -- Works in Phoenix 0.5, Mozilla 1.3, Opera 7, Internet Explorer 6, Internet Explorer 5 on Windows\r\n    -- Opera 7 fails\r\n\r\n    Version 0.5 - Carl Sverre, Jan 7th 2013\r\n    -- Now uses jQuery-esque `hasClass` for testing class name\r\n    equality.  This fixes a bug related to '-' characters being\r\n    considered not part of a 'word' in regex.\r\n    */\r\n\r\n  function getAllChildren(e) {\r\n    // Returns all children of element. Workaround required for IE5/Windows. Ugh.\r\n    return e.all ? e.all : e.getElementsByTagName(\"*\");\r\n  }\r\n\r\n  var bad_whitespace = /[\\t\\r\\n]/g;\r\n\r\n  function hasClass(elem, selector) {\r\n    var className = \" \" + selector + \" \";\r\n    return (\r\n      (\" \" + elem.className + \" \")\r\n        .replace(bad_whitespace, \" \")\r\n        .indexOf(className) >= 0\r\n    );\r\n  }\r\n\r\n  function getElementsBySelector(selector) {\r\n    // Attempt to fail gracefully in lesser browsers\r\n    if (!document.getElementsByTagName) {\r\n      return [];\r\n    }\r\n    // Split selector in to tokens\r\n    var tokens = selector.split(\" \");\r\n    var token,\r\n      bits,\r\n      tagName,\r\n      found,\r\n      foundCount,\r\n      i,\r\n      j,\r\n      k,\r\n      elements,\r\n      currentContextIndex;\r\n    var currentContext = [document];\r\n    for (i = 0; i < tokens.length; i++) {\r\n      token = tokens[i].replace(/^\\s+/, \"\").replace(/\\s+$/, \"\");\r\n      if (token.indexOf(\"#\") > -1) {\r\n        // Token is an ID selector\r\n        bits = token.split(\"#\");\r\n        tagName = bits[0];\r\n        var id = bits[1];\r\n        var element = document.getElementById(id);\r\n        if (\r\n          !element ||\r\n          (tagName && element.nodeName.toLowerCase() != tagName)\r\n        ) {\r\n          // element not found or tag with that ID not found, return false\r\n          return [];\r\n        }\r\n        // Set currentContext to contain just this element\r\n        currentContext = [element];\r\n        continue; // Skip to next token\r\n      }\r\n      if (token.indexOf(\".\") > -1) {\r\n        // Token contains a class selector\r\n        bits = token.split(\".\");\r\n        tagName = bits[0];\r\n        var className = bits[1];\r\n        if (!tagName) {\r\n          tagName = \"*\";\r\n        }\r\n        // Get elements matching tag, filter them for class selector\r\n        found = [];\r\n        foundCount = 0;\r\n        for (j = 0; j < currentContext.length; j++) {\r\n          if (tagName == \"*\") {\r\n            elements = getAllChildren(currentContext[j]);\r\n          } else {\r\n            elements = currentContext[j].getElementsByTagName(tagName);\r\n          }\r\n          for (k = 0; k < elements.length; k++) {\r\n            found[foundCount++] = elements[k];\r\n          }\r\n        }\r\n        currentContext = [];\r\n        currentContextIndex = 0;\r\n        for (j = 0; j < found.length; j++) {\r\n          if (\r\n            found[j].className &&\r\n            _.isString(found[j].className) && // some SVG elements have classNames which are not strings\r\n            hasClass(found[j], className)\r\n          ) {\r\n            currentContext[currentContextIndex++] = found[j];\r\n          }\r\n        }\r\n        continue; // Skip to next token\r\n      }\r\n      // Code to deal with attribute selectors\r\n      var token_match = token.match(TOKEN_MATCH_REGEX);\r\n      if (token_match) {\r\n        tagName = token_match[1];\r\n        var attrName = token_match[2];\r\n        var attrOperator = token_match[3];\r\n        var attrValue = token_match[4];\r\n        if (!tagName) {\r\n          tagName = \"*\";\r\n        }\r\n        // Grab all of the tagName elements within current context\r\n        found = [];\r\n        foundCount = 0;\r\n        for (j = 0; j < currentContext.length; j++) {\r\n          if (tagName == \"*\") {\r\n            elements = getAllChildren(currentContext[j]);\r\n          } else {\r\n            elements = currentContext[j].getElementsByTagName(tagName);\r\n          }\r\n          for (k = 0; k < elements.length; k++) {\r\n            found[foundCount++] = elements[k];\r\n          }\r\n        }\r\n        currentContext = [];\r\n        currentContextIndex = 0;\r\n        var checkFunction; // This function will be used to filter the elements\r\n        switch (attrOperator) {\r\n          case \"=\": // Equality\r\n            checkFunction = function (e) {\r\n              return e.getAttribute(attrName) == attrValue;\r\n            };\r\n            break;\r\n          case \"~\": // Match one of space seperated words\r\n            checkFunction = function (e) {\r\n              return e\r\n                .getAttribute(attrName)\r\n                .match(new RegExp(\"\\\\b\" + attrValue + \"\\\\b\"));\r\n            };\r\n            break;\r\n          case \"|\": // Match start with value followed by optional hyphen\r\n            checkFunction = function (e) {\r\n              return e\r\n                .getAttribute(attrName)\r\n                .match(new RegExp(\"^\" + attrValue + \"-?\"));\r\n            };\r\n            break;\r\n          case \"^\": // Match starts with value\r\n            checkFunction = function (e) {\r\n              return e.getAttribute(attrName).indexOf(attrValue) === 0;\r\n            };\r\n            break;\r\n          case \"$\": // Match ends with value - fails with \"Warning\" in Opera 7\r\n            checkFunction = function (e) {\r\n              return (\r\n                e.getAttribute(attrName).lastIndexOf(attrValue) ==\r\n                e.getAttribute(attrName).length - attrValue.length\r\n              );\r\n            };\r\n            break;\r\n          case \"*\": // Match ends with value\r\n            checkFunction = function (e) {\r\n              return e.getAttribute(attrName).indexOf(attrValue) > -1;\r\n            };\r\n            break;\r\n          default:\r\n            // Just test for existence of attribute\r\n            checkFunction = function (e) {\r\n              return e.getAttribute(attrName);\r\n            };\r\n        }\r\n        currentContext = [];\r\n        currentContextIndex = 0;\r\n        for (j = 0; j < found.length; j++) {\r\n          if (checkFunction(found[j])) {\r\n            currentContext[currentContextIndex++] = found[j];\r\n          }\r\n        }\r\n        // alert('Attribute Selector: '+tagName+' '+attrName+' '+attrOperator+' '+attrValue);\r\n        continue; // Skip to next token\r\n      }\r\n      // If we get here, token is JUST an element (not a class or ID selector)\r\n      tagName = token;\r\n      found = [];\r\n      foundCount = 0;\r\n      for (j = 0; j < currentContext.length; j++) {\r\n        elements = currentContext[j].getElementsByTagName(tagName);\r\n        for (k = 0; k < elements.length; k++) {\r\n          found[foundCount++] = elements[k];\r\n        }\r\n      }\r\n      currentContext = found;\r\n    }\r\n    return currentContext;\r\n  }\r\n\r\n  return function (query) {\r\n    if (_.isElement(query)) {\r\n      return [query];\r\n    } else if (_.isObject(query) && !_.isUndefined(query.length)) {\r\n      return query;\r\n    } else {\r\n      return getElementsBySelector.call(this, query);\r\n    }\r\n  };\r\n})();\r\n\r\n_.info = {\r\n  campaignParams: function () {\r\n    var campaign_keywords = \"utm_source utm_medium utm_campaign utm_content utm_term\".split(\r\n        \" \"\r\n      ),\r\n      kw = \"\",\r\n      params = {};\r\n    _.each(campaign_keywords, function (kwkey) {\r\n      kw = _.getQueryParam(document.URL, kwkey);\r\n      if (kw.length) {\r\n        params[kwkey] = kw;\r\n      }\r\n    });\r\n\r\n    return params;\r\n  },\r\n\r\n  searchEngine: function (referrer) {\r\n    if (referrer.search(\"https?://(.*)google.([^/?]*)\") === 0) {\r\n      return \"google\";\r\n    } else if (referrer.search(\"https?://(.*)bing.com\") === 0) {\r\n      return \"bing\";\r\n    } else if (referrer.search(\"https?://(.*)yahoo.com\") === 0) {\r\n      return \"yahoo\";\r\n    } else if (referrer.search(\"https?://(.*)duckduckgo.com\") === 0) {\r\n      return \"duckduckgo\";\r\n    } else {\r\n      return null;\r\n    }\r\n  },\r\n\r\n  searchInfo: function (referrer) {\r\n    var search = _.info.searchEngine(referrer),\r\n      param = search != \"yahoo\" ? \"q\" : \"p\",\r\n      ret = {};\r\n\r\n    if (search !== null) {\r\n      ret[\"$search_engine\"] = search;\r\n\r\n      var keyword = _.getQueryParam(referrer, param);\r\n      if (keyword.length) {\r\n        ret[\"mp_keyword\"] = keyword;\r\n      }\r\n    }\r\n\r\n    return ret;\r\n  },\r\n\r\n  /**\r\n   * This function detects which browser is running this script.\r\n   * The order of the checks are important since many user agents\r\n   * include key words used in later checks.\r\n   */\r\n  browser: function (user_agent, vendor, opera) {\r\n    vendor = vendor || \"\"; // vendor is undefined for at least IE9\r\n    if (opera || _.includes(user_agent, \" OPR/\")) {\r\n      if (_.includes(user_agent, \"Mini\")) {\r\n        return \"Opera Mini\";\r\n      }\r\n      return \"Opera\";\r\n    } else if (/(BlackBerry|PlayBook|BB10)/i.test(user_agent)) {\r\n      return \"BlackBerry\";\r\n    } else if (\r\n      _.includes(user_agent, \"IEMobile\") ||\r\n      _.includes(user_agent, \"WPDesktop\")\r\n    ) {\r\n      return \"Internet Explorer Mobile\";\r\n    } else if (_.includes(user_agent, \"SamsungBrowser/\")) {\r\n      // https://developer.samsung.com/internet/user-agent-string-format\r\n      return \"Samsung Internet\";\r\n    } else if (\r\n      _.includes(user_agent, \"Edge\") ||\r\n      _.includes(user_agent, \"Edg/\")\r\n    ) {\r\n      return \"Microsoft Edge\";\r\n    } else if (_.includes(user_agent, \"FBIOS\")) {\r\n      return \"Facebook Mobile\";\r\n    } else if (_.includes(user_agent, \"Chrome\")) {\r\n      return \"Chrome\";\r\n    } else if (_.includes(user_agent, \"CriOS\")) {\r\n      return \"Chrome iOS\";\r\n    } else if (\r\n      _.includes(user_agent, \"UCWEB\") ||\r\n      _.includes(user_agent, \"UCBrowser\")\r\n    ) {\r\n      return \"UC Browser\";\r\n    } else if (_.includes(user_agent, \"FxiOS\")) {\r\n      return \"Firefox iOS\";\r\n    } else if (_.includes(vendor, \"Apple\")) {\r\n      if (_.includes(user_agent, \"Mobile\")) {\r\n        return \"Mobile Safari\";\r\n      }\r\n      return \"Safari\";\r\n    } else if (_.includes(user_agent, \"Android\")) {\r\n      return \"Android Mobile\";\r\n    } else if (_.includes(user_agent, \"Konqueror\")) {\r\n      return \"Konqueror\";\r\n    } else if (_.includes(user_agent, \"Firefox\")) {\r\n      return \"Firefox\";\r\n    } else if (\r\n      _.includes(user_agent, \"MSIE\") ||\r\n      _.includes(user_agent, \"Trident/\")\r\n    ) {\r\n      return \"Internet Explorer\";\r\n    } else if (_.includes(user_agent, \"Gecko\")) {\r\n      return \"Mozilla\";\r\n    } else {\r\n      return \"\";\r\n    }\r\n  },\r\n\r\n  /**\r\n   * This function detects which browser version is running this script,\r\n   * parsing major and minor version (e.g., 42.1). User agent strings from:\r\n   * http://www.useragentstring.com/pages/useragentstring.php\r\n   */\r\n  browserVersion: function (userAgent, vendor, opera) {\r\n    var browser = _.info.browser(userAgent, vendor, opera);\r\n    var versionRegexs = {\r\n      \"Internet Explorer Mobile\": /rv:(\\d+(\\.\\d+)?)/,\r\n      \"Microsoft Edge\": /Edge?\\/(\\d+(\\.\\d+)?)/,\r\n      Chrome: /Chrome\\/(\\d+(\\.\\d+)?)/,\r\n      \"Chrome iOS\": /CriOS\\/(\\d+(\\.\\d+)?)/,\r\n      \"UC Browser\": /(UCBrowser|UCWEB)\\/(\\d+(\\.\\d+)?)/,\r\n      Safari: /Version\\/(\\d+(\\.\\d+)?)/,\r\n      \"Mobile Safari\": /Version\\/(\\d+(\\.\\d+)?)/,\r\n      Opera: /(Opera|OPR)\\/(\\d+(\\.\\d+)?)/,\r\n      Firefox: /Firefox\\/(\\d+(\\.\\d+)?)/,\r\n      \"Firefox iOS\": /FxiOS\\/(\\d+(\\.\\d+)?)/,\r\n      Konqueror: /Konqueror:(\\d+(\\.\\d+)?)/,\r\n      BlackBerry: /BlackBerry (\\d+(\\.\\d+)?)/,\r\n      \"Android Mobile\": /android\\s(\\d+(\\.\\d+)?)/,\r\n      \"Samsung Internet\": /SamsungBrowser\\/(\\d+(\\.\\d+)?)/,\r\n      \"Internet Explorer\": /(rv:|MSIE )(\\d+(\\.\\d+)?)/,\r\n      Mozilla: /rv:(\\d+(\\.\\d+)?)/,\r\n    };\r\n    var regex = versionRegexs[browser];\r\n    if (regex === undefined) {\r\n      return null;\r\n    }\r\n    var matches = userAgent.match(regex);\r\n    if (!matches) {\r\n      return null;\r\n    }\r\n    return parseFloat(matches[matches.length - 2]);\r\n  },\r\n\r\n  os: function () {\r\n    var a = userAgent;\r\n    if (/Windows/i.test(a)) {\r\n      if (/Phone/.test(a) || /WPDesktop/.test(a)) {\r\n        return \"Windows Phone\";\r\n      }\r\n      return \"Windows\";\r\n    } else if (/(iPhone|iPad|iPod)/.test(a)) {\r\n      return \"iOS\";\r\n    } else if (/Android/.test(a)) {\r\n      return \"Android\";\r\n    } else if (/(BlackBerry|PlayBook|BB10)/i.test(a)) {\r\n      return \"BlackBerry\";\r\n    } else if (/Mac/i.test(a)) {\r\n      return \"Mac OS X\";\r\n    } else if (/Linux/.test(a)) {\r\n      return \"Linux\";\r\n    } else if (/CrOS/.test(a)) {\r\n      return \"Chrome OS\";\r\n    } else {\r\n      return \"\";\r\n    }\r\n  },\r\n\r\n  device: function (user_agent) {\r\n    if (/Windows Phone/i.test(user_agent) || /WPDesktop/.test(user_agent)) {\r\n      return \"Windows Phone\";\r\n    } else if (/iPad/.test(user_agent)) {\r\n      return \"iPad\";\r\n    } else if (/iPod/.test(user_agent)) {\r\n      return \"iPod Touch\";\r\n    } else if (/iPhone/.test(user_agent)) {\r\n      return \"iPhone\";\r\n    } else if (/(BlackBerry|PlayBook|BB10)/i.test(user_agent)) {\r\n      return \"BlackBerry\";\r\n    } else if (/Android/.test(user_agent)) {\r\n      return \"Android\";\r\n    } else {\r\n      return \"\";\r\n    }\r\n  },\r\n\r\n  referringDomain: function (referrer) {\r\n    var split = referrer.split(\"/\");\r\n    if (split.length >= 3) {\r\n      return split[2];\r\n    }\r\n    return \"\";\r\n  },\r\n\r\n  properties: function () {\r\n    return _.extend(\r\n      _.strip_empty_properties({\r\n        $os: _.info.os(),\r\n        $browser: _.info.browser(userAgent, navigator.vendor, windowOpera),\r\n        $referrer: document.referrer,\r\n        $referring_domain: _.info.referringDomain(document.referrer),\r\n        $device: _.info.device(userAgent),\r\n      }),\r\n      {\r\n        $current_url: win.location.href,\r\n        $browser_version: _.info.browserVersion(\r\n          userAgent,\r\n          navigator.vendor,\r\n          windowOpera\r\n        ),\r\n        $screen_height: screen.height,\r\n        $screen_width: screen.width,\r\n        mp_lib: \"web\",\r\n        $lib_version: Config.LIB_VERSION,\r\n        $insert_id:\r\n          Math.random().toString(36).substring(2, 10) +\r\n          Math.random().toString(36).substring(2, 10),\r\n        time: _.timestamp() / 1000, // epoch time in seconds\r\n      }\r\n    );\r\n  },\r\n\r\n  people_properties: function () {\r\n    return _.extend(\r\n      _.strip_empty_properties({\r\n        $os: _.info.os(),\r\n        $browser: _.info.browser(userAgent, navigator.vendor, windowOpera),\r\n      }),\r\n      {\r\n        $browser_version: _.info.browserVersion(\r\n          userAgent,\r\n          navigator.vendor,\r\n          windowOpera\r\n        ),\r\n      }\r\n    );\r\n  },\r\n\r\n  pageviewInfo: function (page) {\r\n    return _.strip_empty_properties({\r\n      mp_page: page,\r\n      mp_referrer: document.referrer,\r\n      mp_browser: _.info.browser(userAgent, navigator.vendor, windowOpera),\r\n      mp_platform: _.info.os(),\r\n    });\r\n  },\r\n};\r\n\r\n// naive way to extract domain name (example.com) from full hostname (my.sub.example.com)\r\nvar SIMPLE_DOMAIN_MATCH_REGEX = /[a-z0-9][a-z0-9-]*\\.[a-z]+$/i;\r\n// this next one attempts to account for some ccSLDs, e.g. extracting oxford.ac.uk from www.oxford.ac.uk\r\nvar DOMAIN_MATCH_REGEX = /[a-z0-9][a-z0-9-]+\\.[a-z.]{2,6}$/i;\r\n/**\r\n * Attempts to extract main domain name from full hostname, using a few blunt heuristics. For\r\n * common TLDs like .com/.org that always have a simple SLD.TLD structure (example.com), we\r\n * simply extract the last two .-separated parts of the hostname (SIMPLE_DOMAIN_MATCH_REGEX).\r\n * For others, we attempt to account for short ccSLD+TLD combos (.ac.uk) with the legacy\r\n * DOMAIN_MATCH_REGEX (kept to maintain backwards compatibility with existing Mixpanel\r\n * integrations). The only _reliable_ way to extract domain from hostname is with an up-to-date\r\n * list like at https://publicsuffix.org/ so for cases that this helper fails at, the SDK\r\n * offers the 'cookie_domain' config option to set it explicitly.\r\n * @example\r\n * extract_domain('my.sub.example.com')\r\n * // 'example.com'\r\n */\r\nvar extract_domain = function (hostname) {\r\n  var domain_regex = DOMAIN_MATCH_REGEX;\r\n  var parts = hostname.split(\".\");\r\n  var tld = parts[parts.length - 1];\r\n  if (tld.length > 4 || tld === \"com\" || tld === \"org\") {\r\n    domain_regex = SIMPLE_DOMAIN_MATCH_REGEX;\r\n  }\r\n  var matches = hostname.match(domain_regex);\r\n  return matches ? matches[0] : \"\";\r\n};\r\n\r\nconst addListener = function (element, type, handler) {\r\n  if (element.addEventListener) {\r\n    element.addEventListener(type, handler, false);\r\n  } else if (element.attachEvent) {\r\n    element.attachEvent(\"on\" + type, handler);\r\n  } else {\r\n    element[\"on\" + type] = handler;\r\n  }\r\n};\r\n\r\nconst removeListener = function (element, type, handler) {\r\n  if (element.removeEventListener) {\r\n    element.removeEventListener(type, handler, false);\r\n  } else if (element.detachEvent) {\r\n    element.detachEvent(\"on\" + type, handler);\r\n  } else {\r\n    element[\"on\" + type] = null;\r\n  }\r\n};\r\n\r\nconst onload = (cb) => {\r\n  if (document.readyState === \"complete\") {\r\n    cb();\r\n    return void 0;\r\n  }\r\n  addListener(window, \"load\", cb);\r\n};\r\n\r\n// EXPORTS (for closure compiler)\r\n_[\"toArray\"] = _.toArray;\r\n_[\"isObject\"] = _.isObject;\r\n_[\"JSONEncode\"] = _.JSONEncode;\r\n_[\"JSONDecode\"] = _.JSONDecode;\r\n_[\"isBlockedUA\"] = _.isBlockedUA;\r\n_[\"isEmptyObject\"] = _.isEmptyObject;\r\n_[\"info\"] = _.info;\r\n_[\"info\"][\"device\"] = _.info.device;\r\n_[\"info\"][\"browser\"] = _.info.browser;\r\n_[\"info\"][\"browserVersion\"] = _.info.browserVersion;\r\n_[\"info\"][\"properties\"] = _.info.properties;\r\n\r\nexport {\r\n  _,\r\n  userAgent,\r\n  console,\r\n  win as window,\r\n  document,\r\n  navigator,\r\n  extract_domain,\r\n  addListener,\r\n  removeListener,\r\n  onload,\r\n};\r\n","/*\n * @Author: zhanghongwei\n * @Date: 2020-05-23 14:36:43\n * @Last Modified by: zhanghongwei\n * @Last Modified time: 2020-05-23 15:27:13\n */\n\n// import Perf from \"./performance\";\n// import { proxy as ajaxHook, unProxy } from \"./ajaxHook/xhr-proxy\";\n// // import worker from \"./worker\";\n\n// import ErrorCatch from \"./error/index.js\";\n\n// class Monitor {\n//   constructor() {\n//     this.init();\n//   }\n\n//   init() {\n//     // worker();\n//     // 收集ajax fetch\n//     ajaxHook({\n//       //请求成功后进入\n//       onResponse: (response, handler) => {\n//         handler.next(response);\n//       },\n//     });\n\n//     // 性能监控\n//     const pf = new Perf({\n//       timingReport: (data) => {\n//         console.log(123);\n//         console.log(\"data=======>\", data);\n//       },\n//       resourceReport: (data) => {},\n//     });\n\n//     // 收集错误信息\n//     const error = new ErrorCatch({\n//       callback: (err) => {\n//         console.log(\"err================<\", err);\n//       },\n//     });\n//   }\n// }\n\n// new Monitor();\nimport { _, userAgent, addListener } from \"./utils/index\";\n\n// let infos = _.info.properties(),;\nwindow._ = _;\n\nconsole.log(\"infos======>\", _);\n"],"names":["Config","win","window","loc","userAgent","width","height","ArrayProto","Array","prototype","FuncProto","Function","ObjProto","Object","slice","toString","hasOwnProperty","windowConsole","console","navigator","document","windowOpera","opera","screen","nativeBind","bind","nativeForEach","forEach","nativeIndexOf","indexOf","nativeIsArray","isArray","breaker","_","str","replace","DEBUG","isUndefined","log","apply","arguments","err","each","arg","args","concat","toArray","error","func","context","bound","call","isFunction","TypeError","ctor","self","result","bind_instance_methods","obj","iterator","undefined","length","i","l","key","escapeHTML","s","escaped","isString","extend","source","prop","f","test","x","isArguments","iterable","values","keys","results","value","identity","include","target","found","includes","needle","inherit","subclass","superclass","constructor","isObject","isEmptyObject","isDate","isNumber","isElement","nodeType","encodeDates","v","k","formatDate","timestamp","now","Date","d","pad","n","getUTCFullYear","getUTCMonth","getUTCDate","getUTCHours","getUTCMinutes","getUTCSeconds","safewrap","e","critical","safewrap_class","klass","functions","safewrap_instance_methods","strip_empty_properties","p","ret","truncate","val","push","JSONEncode","mixed_val","quote","string","escapable","meta","lastIndex","a","c","charCodeAt","holder","gap","indent","mind","partial","toJSON","isFinite","String","join","JSONDecode","at","text","m","SyntaxError","next","ch","charAt","number","hex","uffff","parseInt","fromCharCode","escapee","white","word","array","object","base64Encode","data","b64","o1","o2","o3","h1","h2","h3","h4","bits","ac","enc","tmp_arr","utf8Encode","utftext","start","end","stringl","c1","substring","UUID","T","R","Math","random","UA","ua","buffer","xor","byte_array","j","tmp","unshift","se","isBlockedUA","HTTPBuildQuery","formdata","arg_separator","use_val","use_key","encodeURIComponent","getQueryParam","url","param","regexS","regex","RegExp","exec","decodeURIComponent","getHashParam","hash","matches","match","cookie","name","nameEQ","ca","split","get","seconds","is_cross_subdomain","is_secure","is_cross_site","domain_override","cdomain","expires","secure","domain","extract_domain","location","hostname","date","setTime","getTime","toGMTString","days","new_cookie_val","set","_localStorage_supported","localStorage","supported","remove","msg","getItem","setItem","removeItem","register_event","element","type","handler","oldSchool","useCapture","addEventListener","ontype","old_handler","makeHandler","new_handler","old_handlers","event","fixEvent","old_result","new_result","preventDefault","stopPropagation","returnValue","cancelBubble","TOKEN_MATCH_REGEX","dom_query","getAllChildren","all","getElementsByTagName","bad_whitespace","hasClass","elem","selector","className","getElementsBySelector","tokens","token","tagName","foundCount","elements","currentContextIndex","currentContext","id","getElementById","nodeName","toLowerCase","token_match","attrName","attrOperator","attrValue","checkFunction","getAttribute","lastIndexOf","query","info","campaign_keywords","kw","params","kwkey","URL","referrer","search","searchEngine","keyword","user_agent","vendor","browser","versionRegexs","parseFloat","os","referringDomain","device","href","browserVersion","LIB_VERSION","page","SIMPLE_DOMAIN_MATCH_REGEX","DOMAIN_MATCH_REGEX","domain_regex","parts","tld","properties"],"mappings":"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"}